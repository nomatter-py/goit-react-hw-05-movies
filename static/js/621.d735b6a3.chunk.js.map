{"version":3,"file":"static/js/621.d735b6a3.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","components/SearchBar/SearchBar.styled.js","components/SearchBar/SearchBar.jsx","pages/Movies/Movies.jsx","services/movie-api.js"],"sourcesContent":["\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\n\nexport const LinkStyled = styled(Link)`\n\n  text-decoration: none;\n  color: inherit;\n  font-weight: 500;\n\n  &:hover {\n    text-decoration: underline;\n  }\n\n`;\n\n\n\n","import { LinkStyled } from './MovieList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MovieList = ({ movies, location }) => {\n  return (\n    <ul>\n      {movies.map(({ id, title }) => {\n        return (\n          <li key={id}>\n            <LinkStyled to={`/movies/${id}`} state={{ from: location }}>\n              {title}\n            </LinkStyled>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n","import styled from 'styled-components';\nimport { Form, Field } from 'formik';\n\nexport const SearchBarComponent = styled.div`\n  display: flex;\n  align-items: center;\n  min-height: 64px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n`;\n\nexport const FormStyled = styled(Form)`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  border: 1px solid black;\n  overflow: hidden;\n`;\n\nexport const ButtonSearch = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://upload.wikimedia.org/wikipedia/commons/5/55/Magnifying_glass_icon.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n`;\n\nexport const FieldStyled = styled(Field)`\n  display: inline-block;\n  width: 100%;\n  height:100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import { SearchBarComponent, FormStyled, ButtonSearch, FieldStyled } from './SearchBar.styled';\nimport { Formik } from 'formik';\nimport PropTypes from 'prop-types';\n\nconst SearchBar = ({handleQuery}) => {\n  \n    return (\n      <SearchBarComponent>\n        <Formik\n          initialValues={{ search: '' }}\n          onSubmit={(values, actions) => {\n              handleQuery({ query: values.search });\n            actions.setSubmitting(false);\n          }}\n        >\n          {({ isSubmitting }) => (\n            <FormStyled>\n              {isSubmitting && <div>Loading...</div>}\n              <ButtonSearch type=\"submit\" className=\"button\" disabled={isSubmitting}>\n                <span className=\"button-label\"></span>\n              </ButtonSearch>\n\n              <FieldStyled\n                name=\"search\"\n                type=\"text\"\n                autoComplete=\"off\"\n                autoFocus\n                placeholder=\"Search\"\n              />\n            </FormStyled>\n          )}\n        </Formik>\n      </SearchBarComponent>\n    );\n  \n}\n\n\nSearchBar.propTypes = {\n  handleQuery: PropTypes.func.isRequired,\n}\n\nexport default SearchBar;","import SearchBar from '../../components/SearchBar/SearchBar';\nimport { useState, useEffect, Suspense } from 'react';\nimport * as API from '../../services/movie-api';\nimport { Outlet, useSearchParams, useLocation } from 'react-router-dom';\nimport { MovieList } from 'components/MovieList/MovieList';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    async function fetchMovies() {\n      if (!query) return;\n      try {\n        const data = await API.serachMovies(query);\n        const { results } = data;\n        const properStructData = results.map(({ id, title }) => ({\n          id,\n          title,\n        }));\n        setMovies(properStructData);\n      } catch (error) {\n        setError(true);\n      }\n    }\n\n    fetchMovies();\n  }, [query]);\n\n  return (\n    <main>\n      <SearchBar handleQuery={setSearchParams} />\n      {error && <div>Smth went wrong</div>}\n      <MovieList movies={movies} location={location} />\n      <Suspense fallback={<div>Loading ...</div>}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst KEY = '2eedd5583908f09c336fb6c1916fc5f0';\nconst URL = 'https://api.themoviedb.org/3/';\n\nexport let pathParams = \"/trending/movie/day\";\n\n export const params = {\n\n };\n\nconst customAxios = axios.create({\n  baseURL: URL,\n  params: {\n    api_key: KEY,\n  },\n});\n\nexport const getTrending = async () => {\n  try {\n    const response = await customAxios.get(\"/trending/movie/day\", {\n      params,\n    });\n\n    const data = await response.data\n    return data\n    //return response.data;\n  } catch (error) {\n    throw new Error(`Smth went wrong ${error}`);\n  }\n};\n\nexport const getMovieDetails = async (id) => {\n  try {\n    const response = await customAxios.get(`/movie/${id}`, {\n      params,\n    });\n\n    const data = await response.data\n    return data\n    //return response.data;\n  } catch (error) {\n    throw new Error(`Smth went wrong ${error}`);\n  }\n};\n\nexport const getMovieCredits = async (id) => {\n  try {\n    const response = await customAxios.get(`/movie/${id}/credits`, {\n      params,\n    });\n\n    const data = await response.data\n    return data\n  } catch (error) {\n    throw new Error(`Smth went wrong ${error}`);\n  }\n};\n\nexport const getMovieReviews = async (id) => {\n  try {\n    const response = await customAxios.get(`/movie/${id}/reviews`, {\n      params,\n    });\n\n    const data = await response.data\n    return data\n  } catch (error) {\n    throw new Error(`Smth went wrong ${error}`);\n  }\n};\n\n\nexport const serachMovies = async (query) => {\n  try {\n    params.query = query;\n    const response = await customAxios.get(`/search/movie`, {\n      params,\n    });\n\n    const data = await response.data\n    return data\n  } catch (error) {\n    throw new Error(`Smth went wrong ${error}`);\n  }\n};\n"],"names":["LinkStyled","styled","Link","MovieList","movies","location","map","id","title","to","state","from","SearchBarComponent","FormStyled","Form","ButtonSearch","FieldStyled","Field","handleQuery","initialValues","search","onSubmit","values","actions","query","setSubmitting","isSubmitting","type","className","disabled","name","autoComplete","autoFocus","placeholder","useLocation","useSearchParams","searchParams","setSearchParams","useState","setMovies","error","setError","get","useEffect","API","data","results","properStructData","fetchMovies","Suspense","fallback","params","customAxios","axios","baseURL","api_key","getTrending","response","Error","getMovieDetails","getMovieCredits","getMovieReviews","serachMovies"],"sourceRoot":""}